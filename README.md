# Book_bot (Telegram)

Універсальний Telegram-бот для менеджменту книжок: додавання, перегляд каталогу, статуси читання і позначка «улюблена».

## Можливості

- Головне меню з інлайн-кнопками
- Додавання книги через кроки (назва → автор → жанр → фото)
- Перегляд каталогу як карусель з навігацією
- Деталі книги з фото/текстом
- Статуси читання: «В процесі» та «Прочитав» (взаємовиключні)
- Позначка «Улюблена» (незалежно від статусів читання)

## Вимоги

- Python 3.10+
- Telegram Bot Token

## Швидкий старт

1. Клон:

```bash
git clone <repo-url>
cd Books_bot
```

2. Створіть та заповніть `.env`:

```env
BOT_TOKEN=ваш_токен_бота
```

3. Встановіть залежності:

```bash
pip install -r requirements.txt
```

4. Запуск:

```bash
python run.py
```

## База даних і статуси

- SQLite (`app/books.sqlite3`), створюється і мігрує автоматично при старті
- Таблиці:
  - `users(id, tg_user_id)`
  - `books(id, user_id, name, author, genre, photo_id, status, is_favorite, created_at)`
  - `book_statuses(book_id, status, created_at)`
- «Улюблена»: поле `is_favorite` (0/1), перемикається незалежно від читальних статусів
- Статуси читання (`book_statuses`):
  - `in` → «Хочу прочитати»
  - `read` → «Прочитав»
  - взаємовиключні: вмикання одного автоматично вимикає інший

## Основні команди

- `/start` — показ головного меню
- Каруселі:
  - «📚 Бібліотека» — всі книги
  - «📕 Хочу прочитати» — статус `in`
  - «✅ Прочитані книги» — статус `read`
  - «❤️ Улюблені книги» — `is_favorite=1`
- У деталях книги:
  - «📕 В процесі ↔» — перемкнути `in`
  - «✅ Прочитав ↔» — перемкнути `read` (взаємовиключно з `in`)
  - «❤️ Улюблена ↔» — перемкнути `is_favorite`

## Логи

- Записуються у `logs/bot.log` з ротацією.
