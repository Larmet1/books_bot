# Book_bot (Telegram)

–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π Telegram-–±–æ—Ç –¥–ª—è –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç—É –∫–Ω–∏–∂–æ–∫: –¥–æ–¥–∞–≤–∞–Ω–Ω—è, –ø–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ç–∞–ª–æ–≥—É, —Å—Ç–∞—Ç—É—Å–∏ —á–∏—Ç–∞–Ω–Ω—è —ñ –ø–æ–∑–Ω–∞—á–∫–∞ ¬´—É–ª—é–±–ª–µ–Ω–∞¬ª.

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é –∑ —ñ–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∞–º–∏
- –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–Ω–∏–≥–∏ —á–µ—Ä–µ–∑ –∫—Ä–æ–∫–∏ (–Ω–∞–∑–≤–∞ ‚Üí –∞–≤—Ç–æ—Ä ‚Üí –∂–∞–Ω—Ä ‚Üí —Ñ–æ—Ç–æ)
- –ü–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ç–∞–ª–æ–≥—É —è–∫ –∫–∞—Ä—É—Å–µ–ª—å –∑ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—î—é
- –î–µ—Ç–∞–ª—ñ –∫–Ω–∏–≥–∏ –∑ —Ñ–æ—Ç–æ/—Ç–µ–∫—Å—Ç–æ–º
- –°—Ç–∞—Ç—É—Å–∏ —á–∏—Ç–∞–Ω–Ω—è: ¬´–í –ø—Ä–æ—Ü–µ—Å—ñ¬ª —Ç–∞ ¬´–ü—Ä–æ—á–∏—Ç–∞–≤¬ª (–≤–∑–∞—î–º–æ–≤–∏–∫–ª—é—á–Ω—ñ)
- –ü–æ–∑–Ω–∞—á–∫–∞ ¬´–£–ª—é–±–ª–µ–Ω–∞¬ª (–Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å—Ç–∞—Ç—É—Å—ñ–≤ —á–∏—Ç–∞–Ω–Ω—è)

## –í–∏–º–æ–≥–∏

- Python 3.10+
- Telegram Bot Token

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω:

```bash
git clone <repo-url>
cd Book_bot
```

2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–∞ –∑–∞–ø–æ–≤–Ω—ñ—Ç—å `.env`:

```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
```

3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

```bash
pip install -r requirements.txt
```

4. –ó–∞–ø—É—Å–∫:

```bash
python run.py
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
app/
  db.py          # SQLite, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è, –∑–∞–ø–∏—Ç–∏, —Å—Ç–∞—Ç—É—Å–∏/—É–ª—é–±–ª–µ–Ω—ñ
  handlers.py    # –•–µ–Ω–¥–ª–µ—Ä–∏ aiogram, –º–µ–Ω—é, –∫–∞—Ä—É—Å–µ–ª—ñ, FSM –¥–æ–¥–∞–≤–∞–Ω–Ω—è
  keyboards.py   # –Ü–Ω–ª–∞–π–Ω-–∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
  logger.py      # –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤ —Ñ–∞–π–ª —ñ –∫–æ–Ω—Å–æ–ª—å
logs/
run.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É: –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

- –§–∞–π–ª `.env` –Ω–µ —Å–ª—ñ–¥ –∫–æ–º—ñ—Ç–∏—Ç–∏. –î–æ–¥–∞–Ω–æ –¥–æ `.gitignore`.
- –Ø–∫—â–æ `.env` —É–∂–µ –ø–æ—Ç—Ä–∞–ø–∏–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π ‚Äî –ø—Ä–∏–±–µ—Ä—ñ—Ç—å –∑ —ñ–Ω–¥–µ–∫—Å—É —ñ –∑—Ä–æ–±—ñ—Ç—å –Ω–æ–≤–∏–π –∫–æ–º—ñ—Ç:

```bash
git rm --cached .env
git commit -m "Stop tracking .env"
```

## –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —ñ —Å—Ç–∞—Ç—É—Å–∏

- SQLite (`app/books.sqlite3`), —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —ñ –º—ñ–≥—Ä—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
- –¢–∞–±–ª–∏—Ü—ñ:
  - `users(id, tg_user_id)`
  - `books(id, user_id, name, author, genre, photo_id, status, is_favorite, created_at)`
  - `book_statuses(book_id, status, created_at)`
- ¬´–£–ª—é–±–ª–µ–Ω–∞¬ª: –ø–æ–ª–µ `is_favorite` (0/1), –ø–µ—Ä–µ–º–∏–∫–∞—î—Ç—å—Å—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —á–∏—Ç–∞–ª—å–Ω–∏—Ö —Å—Ç–∞—Ç—É—Å—ñ–≤
- –°—Ç–∞—Ç—É—Å–∏ —á–∏—Ç–∞–Ω–Ω—è (`book_statuses`):
  - `in` ‚Üí ¬´–í –ø—Ä–æ—Ü–µ—Å—ñ¬ª
  - `read` ‚Üí ¬´–ü—Ä–æ—á–∏—Ç–∞–≤¬ª
  - –≤–∑–∞—î–º–æ–≤–∏–∫–ª—é—á–Ω—ñ: –≤–º–∏–∫–∞–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–º–∏–∫–∞—î —ñ–Ω—à–∏–π

## –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

- `/start` ‚Äî –ø–æ–∫–∞–∑ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é
- –ö–∞—Ä—É—Å–µ–ª—ñ:
  - ¬´üìö –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞¬ª ‚Äî –≤—Å—ñ –∫–Ω–∏–≥–∏
  - ¬´üìï –í –ø—Ä–æ—Ü–µ—Å—ñ —á–∏—Ç–∞–Ω–Ω—è¬ª ‚Äî —Å—Ç–∞—Ç—É—Å `in`
  - ¬´‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω—ñ –∫–Ω–∏–≥–∏¬ª ‚Äî —Å—Ç–∞—Ç—É—Å `read`
  - ¬´‚ù§Ô∏è –£–ª—é–±–ª–µ–Ω—ñ –∫–Ω–∏–≥–∏¬ª ‚Äî `is_favorite=1`
- –£ –¥–µ—Ç–∞–ª—è—Ö –∫–Ω–∏–≥–∏:
  - ¬´üìï –í –ø—Ä–æ—Ü–µ—Å—ñ ‚Üî¬ª ‚Äî –ø–µ—Ä–µ–º–∫–Ω—É—Ç–∏ `in`
  - ¬´‚úÖ –ü—Ä–æ—á–∏—Ç–∞–≤ ‚Üî¬ª ‚Äî –ø–µ—Ä–µ–º–∫–Ω—É—Ç–∏ `read` (–≤–∑–∞—î–º–æ–≤–∏–∫–ª—é—á–Ω–æ –∑ `in`)
  - ¬´‚ù§Ô∏è –£–ª—é–±–ª–µ–Ω–∞ ‚Üî¬ª ‚Äî –ø–µ—Ä–µ–º–∫–Ω—É—Ç–∏ `is_favorite`

## –õ–æ–≥–∏

- –ó–∞–ø–∏—Å—É—é—Ç—å—Å—è —É `logs/bot.log` –∑ —Ä–æ—Ç–∞—Ü—ñ—î—é.
